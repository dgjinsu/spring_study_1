스프링 프레임워크
- 핵심기술 : 스프링 DI 컨테이너, AOP, 이벤트
- 웹 기술 : 스프링 MVC
- 데이터 접근 기술 : ORM 지원, 트랜잭션, JDBC
- 기술 통합 : 캐시, 이메일, 원격접근, 스케줄링
- 테스트 : 스프링 기반 테스트 지원


스프링 부트
- 스프링을 편리하게 사용할 수 있도록 지원
- 단독으로 실행할 수 있는 스프링 애플리케이션을 쉽게 생성
- Tomcat 같은 웹 서버를 내장해서 별도의 웹 서버를 설치하지 않아도 됨
- 손쉬운 빌드 구성을 위한 starter 종속성 제공 (라이브러리 사용 편리)
- 스프링과 외부 라이브러리 자동 구성 (버전 이슈 해결)


스프링의 진짜 핵심
- 자바 언어 기반의 프레임워크
- 자바 언어의 가장 큰 특징 - 객체 지향 언어
- 스프링은 객체 지향 언어가 가진 강력한 특징을 살려내는 프레임워크
- 스프링은 좋은 객체 지향 애플리케이션을 개발할 수 있게 도와주는 프레임워크


객체지향 언어의 특징
- 객체 지향 프로그래밍은 컴퓨터 프로그램을 명령어의 목록으로 보는 시각에서 벗어나 여러 개의 독립된 단위, 즉 "객체" 들의 모임으로 파악하고자 하는 것
- 각각의 객체는 메세지를 주고받고, 데이터를 처리할 수 있다.
- 이는 프로그램을 유연하고 변경이 용이하게 만들기 때문에 대규모 개발에 많이 사용된다. -> 다형성


스프링과 객체지향
- 스프링은 다형성을 극대화해서 이용할 수 있게 도와준다.
- 제어의 역전(IoC), 의존관계 주입(DI) 는 다형성을 활용해서 역할과 구현을 편리하게 다룰 수 있도록 지원한다.


좋은 객체 지향 설계의 5가지 원칙 (SOLID)
SRP : 단일 책임 원칙
OCP : 개방-폐쇄 원칙
LSP : 리스코프 치환 원칙
ISP : 인터페이스 분리 원칙
DIP : 의존관계 역전 원칙


OCP
- 소프트웨어 요소는 확장에는 열려 있으나 변경에는 닫혀 있어야 한다. (의존관게 주입을 통해 스프링에선 OCP를 지킬 수 있다)

DIP
- 추상화에 의존해야지, 구체화에 의존하면 안된다.
- 구현 클래스에 의존하지 말고, 인터페이스에 의존하라는 뜻


AppConfig
- 애플리케이션의 전체 동작 방식을 구성(config)하기 위해, 구현 객체를 생성 하고 연결 하는 책임을 가지는 별도의 클래스


<제어의 역전>
AppConfig가 프로그램의 제어 흐름을 가져가는 것. 
프로그램의 제어 흐름을 직접 제어하는 것이 아니라 외부에서 관리하는 것을 IoC(제어의 역전) 이라고 한다.

cf: 프레임워크가 내 코드를 제어하면 프레임워크, 반면에 내가 작성한 코드를 직접 제어한다면 라이브러리


<의존관계 주입 DI>
의존관계는 정적인 클래스 의존 관계와, 실행 시점에 결정되는 동적인 객체(인스턴스) 의존 관계로 분리해서 생각해야 함
의존관계 주입을 사용하면 정적인 클라이언트 코드를 변경하지 않고 동적인 객체 인스턴스 의존관계를 쉽게 변경할 수 있다.


스프링 컨테이너에서 memberService 찾아오기
ApplicationContext applicationCOntext = new AnnotationConfigApplicationContext(AppConfig.class)
MemberService memberService = application.getBean("memberService", memberService.class)
-> 스프링 컨테이너는 @Configuration이 붙은 클래스를 설정 정보로 사용, 이때 @Bean이 붙은 메소드 들을 모두 호출해서 반환된 객체를 스프링 컨테이너에 등록


웹 애플리케이션과 싱글톤
- 웹 애플리케이션은 보통 여러 고객이 동시에 요청을 한다. 따라서 기존의 AppConfig를 사용하면 요청할 때마다 새로운 객체를 만든다.
- 이는 메모리 낭비가 심하다
-> 해결방안 : 해당 객체는 딱 1개만 생성되고, 공유하도록 설계 -> 싱글톤 패턴


<싱글톤 패턴>
- 클래스의 인스턴스가 딱 1개만 생성되는 것을 보장하는 디자인 패턴
- static을 사용해서 하나를 공유, private 생성자를 만들어 새로 객체를 만드는것을 막음

<싱글톤 컨테이너>
싱글톤 패턴을 쓰는 컨테이너

- 주의점
	- 무상태로 설계해야 한다.
	- 특정 클라이언트에 의존적인 필드가 있으면 안 된다.
	- 가급적 읽기만 가능해야 한다.
	- 필드 대신에 자바에서 공유되지 않는, 지역변수, 파라미터, ThreadLocal 등을 사용해야 한다.



@Configuration 과 싱글톤
스프링이 CGLIB 이라는 바이트코드 조작 라이브러리를 이용하여 임의의 다른 클래스를 만들어 스프링 빈으로 등록함
	결론 : @Configuration 때문에 싱글톤이 보장된다. (여러번 객체를 new 호출해도..)
	        @Configuration 없이 @Bean만 붙이면 싱글톤이 보장되지 않음.


<@ComponentScan>
- @Component 애너테이션이 붙은 클래스를 스캔해서 스프링 빈으로 등록한다.
- @Autowired 를 이용하여 의존관계 주입을 해줌
- basePackaes : 탐색(스캔) 할 위치를 정함, 정한 위치로 부터 하위폴더를 전부 뒤짐
- 권장하는 방법 : 탐색할 위치를 따로 정하지 않고, 설정 정보 클래스의 위치를 프로젝트 최상단에 두는 것.

@Component : 컴포넌트 스캔에서 사용
@Controller : 스프링 MVC 컨트롤러에서 사용
@Service : 스프링 비즈니스 로직에서 사용 / 서비스는 특별한 처리를 하지 않는다. 관례
@Repository : 스프링 데이터 접근 계층에서 사용
@Configuration : 스프링 설정 정보에서 사용

필터기능
- includeFilters
- excludeFilters


<생성자 주입>
- 생성자 호출시점에 딱 1번만 호출됨 (불변, 필수)
- 생성자가 하나일땐 @Autowired가 없어도 의존관계주입이 가능하다


@Autowired 빈 조회 매커니즘
1. 타입이 같은 빈을 조회
2. 이때 빈이 여러개 조회되면 필드 이름, 파라미터 이름으로 빈 매칭


<빈 생명 주기>
데이터베이스 커넥션 풀 처럼 애플리케이션 시작 시점에 미리 연결을 하거나 애플리케이션이 종료될때 연결을 종료하는 작업을 진행하려면 객체의 초기화와 종료 작업이 필요
- 스프링 빈의 이벤트 라이프사이클
	스프링컨테이너 생성 -> 스프링 빈 생성 -> 의존관계 주입 -> 초기화 콜백 -> 사용 -> 소멸전 콜백 -> 스프링 종료

콜백 하는 방법
@PostConstruct, @PreDestroy